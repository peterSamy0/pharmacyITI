<div class="login-page bg-light my-5">
  <div class="container mt-5">
    <div class="row">
      <div class="col-lg-10 offset-lg-1">
        <div class="bg-white shadow rounded">
          <div class="row">
            <div class="col-md-7 pe-0">
              <div class="form-left h-100 py-5 px-5">
                <form
                  class="row g-4"
                  [formGroup]="signupForm"
                  (ngSubmit)="addDelivery()"
                >
                  <h2 class="mb-2">Drive your way to success!</h2>
                  <div class="col-12">
                    <label class="form-label">Full Name</label>
                    <div>
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Enter your Name"
                        formControlName="name"
                      />
                      <div
                        *ngIf="
                          signupForm.controls['name'].touched &&
                          signupForm.controls['name'].invalid
                        "
                        class="text-danger form-text"
                      >
                        <small
                          *ngIf="signupForm.controls['name'].errors?.['required']"
                        >
                          please, Enter your Name
                        </small>

                        <small
                        *ngIf="signupForm.controls['name'].errors?.['pattern']"
                        >
                        Invalid Full Name
                      </small>
                      </div>
                    </div>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Email</label>
                    <div>
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Enter Your Email"
                        formControlName="email"
                      />
                      <div
                        *ngIf="
                          signupForm.controls['email'].touched &&
                          signupForm.controls['email'].invalid
                        "
                        class="text-danger form-text"
                      >
                        <small
                          *ngIf="signupForm.controls['email'].errors?.['required']"
                        >
                          please, Enter your email
                        </small>
                        <small
                        *ngIf="signupForm.controls['email'].errors?.['email']"
                        >
                        Invalid Email Format
                      </small>
                      </div>
                      <!-- <small *ngIf="emailFail"  class="text-danger form-text">
                       Invalid Email Format
                      </small> -->
                      <small class="text-danger form-text" *ngIf="emailAlreadyUsed">
                        This email is already used
                      </small>
                    </div>
                  </div>

                  <div class="col-12">
                    <label class="form-label">Phone</label>
                    <div>
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Enter Your Phone"
                        formControlName="phone"
                      />
                      <div
                        *ngIf="
                          signupForm.controls['phone'].touched &&
                          signupForm.controls['phone'].invalid
                        "
                        class="text-danger form-text"
                      >
                        <small
                          *ngIf="signupForm.controls['phone'].errors?.['required']"
                        >
                          Please, enter your Phone
                        </small>
                        <small
                        *ngIf="signupForm.controls['phone'].errors?.['pattern']"
                        >
                        Invalid Phone Number
                       </small>
                      </div>
                      <small class="text-danger form-text" *ngIf="phoneAlreadyUsed">
                        This Phone Number is already used
                      </small>
                      <!-- <small class="text-danger form-text"
                      *ngIf="phoneFail"
                    >
                    Invalid Phone Number
                  </small> -->
                      <!-- <div class="mt-3">
                        <button class="btn btn-outline-info btn-sm">
                          Additional Phone Number</button
                        ><span class="ms-3" style="font-size: 13px;">optional</span>
                      </div> -->
                    </div>
                  </div>

                  <div class="col-12">
                    <label class="form-label">National Id</label>
                    <div>
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Enter Your National Id"
                        formControlName="national_ID"
                      />
                      <div
                        *ngIf="
                          signupForm.controls['national_ID'].touched &&
                          signupForm.controls['national_ID'].invalid
                        "
                        class="text-danger form-text"
                      >
                        <small
                          *ngIf="signupForm.controls['national_ID'].errors?.['required']"
                        >
                          Please, Enter Your National ID
                        </small>
                        <small
                        *ngIf="signupForm.controls['national_ID'].errors?.['pattern']"
                        >
                        Invalid National Id
                       </small>
                      </div>
                      <small class="text-danger form-text" *ngIf="nationalIdAlreadyUsed">
                        This National Id is already used
                      </small>
                    </div>
                  </div>

                  <div class="col-12">
                    <label class="form-label">Address (Governorate)</label>
                    <div>
                      <select
                        class="form-select"
                        style="color: rgb(73, 99, 102)"
                        placeholder="Enter Address (Governorate)"
                        formControlName="governorate"
                        name="governorates"
                        #selectGov
                        (change)="selectedGov(selectGov.value)"
                      >
                        <option value="">Select Governorate</option>
                        <option
                          *ngFor="let governorate of governorates"
                          [value]="governorate.governorate_id"
                        >
                          {{ governorate.governorate_name }}
                        </option>
                      </select>
                      <div
                        *ngIf="
                          signupForm.controls['governorate'].touched &&
                          signupForm.controls['governorate'].invalid
                        "
                        class="text-danger form-text"
                      >
                        <small
                          *ngIf="signupForm.controls['goveronrate'].errors?.['required']"
                        >
                          Please, enter your address (Governorate)
                        </small>
                      </div>
                      <small
                      *ngIf="userGovernFail"
                      class="text-danger form-text"
                    >
                      Please, enter your address (Governorate)
                    </small>
                    </div>
                  </div>
                  <!-- choose city -->
                  <div class="col-12" *ngIf="isCity">
                    <label class="form-label">Address (City)</label>
                    <div>
                    <div >
                      <div >
                        <select
                        class="form-select"
                        style="color: rgb(73, 99, 102)"
                        placeholder="Enter Address (City)"
                        formControlName="city"
                        name="governorates"
                          #selectCity
                          (change)="selectedCity(selectCity.value)"
                        >
                          <option value="">Select City</option>
                          <option
                            *ngFor="let city of cities.cities"
                            [value]="city.city_id"
                          >
                            {{ city.city_name }}
                          </option>
                        </select>
                        <div
                        *ngIf="
                          signupForm.controls['city'].touched &&
                          signupForm.controls['city'].invalid
                        "
                        class="text-danger form-text"
                      >
                        <small
                          *ngIf="signupForm.controls['city'].errors?.['required']"
                        >
                          Please, enter your address (City)
                        </small>
                      </div>
                      </div>
                    </div>
                    </div>
                  </div>
                  <!--------------------------- upload file ------------------------->
                  <div class="col-12">
                    <label class="form-label" for="customFile"
                      >Pharmacy Image</label
                    >
                    <input type="file" class="form-control" id="customFile" formControlName="userImage" (change)="onFileSelected($event)" />
                  </div>

                  <!-- -------------------password ----------------------- -->
                  <div class="col-12">
                    <label class="form-label">Password</label>
                    <div>
                      <input
                        type="password"
                        class="form-control"
                        placeholder="Enter Password"
                        formControlName="pass"
                      />
                      <div
                        *ngIf="
                          signupForm.controls['pass'].touched &&
                          signupForm.controls['pass'].invalid
                        "
                        class="text-danger form-text"
                      >
                        <small
                          *ngIf="signupForm.controls['pass'].errors?.['required']"
                        >
                          Password is required
                        </small>
                        <small
                        *ngIf="signupForm.controls['pass'].errors?.['pattern']"
                        >
                        Password must contain 8 characters (at least on letter)
                      </small>
                      </div>
                      <!-- <small *ngIf="passFail"  class="text-danger form-text">
                        Password must contain 8 characters (at least on letter)
                      </small> -->
                    </div>
                  </div>
                  
                  <small *ngIf="notAllDataEntered"  class="text-danger form-text">
                    All fields are required
                  </small>
                  <div class="col-12">
                    <button
                      type="submit"
                      class="btn px-4 float-end mt-4"
                      style="background-color: rgb(123, 211, 222); border: none; color: aliceblue; font-weight:bold;"
                    >
                      Sign Up
                    </button>
                  </div>
                </form>
              </div>
            </div>
            <div class="col-md-5 ps-0 d-none d-md-block">
              <img
                style="width: 100%; height: 100%"
                src="https://img.freepik.com/free-vector/delivery-guy-motor-scooter-wearing-mask_23-2148498576.jpg?w=740&t=st=1698959091~exp=1698959691~hmac=3f42c2b405d7794c2959ada3f58cc3cbf36fa975e4b47302485c2a4bcdcfb246"
                alt=""
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
